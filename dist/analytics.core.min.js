/* analytics.js-core 3.0.0-1 */
var analytics=function(){"use strict";function t(t,e){return e={exports:{}},t(e,e.exports),e.exports}var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=t(function(t){var e=Object.prototype.hasOwnProperty,n=String.prototype.charAt,r=Object.prototype.toString,o=function(t,e){return n.call(t,e)},i=function(t,n){return e.call(t,n)},a=function(t){return"[object String]"===r.call(t)},u=function(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length},c=function(t,e){e=e||i;for(var n=[],r=0,o=t.length;r<o;r+=1)e(t,r)&&n.push(String(r));return n},f=function(t,e){e=e||i;var n=[];for(var r in t)e(t,r)&&n.push(String(r));return n},s=function(t){return null==t?[]:a(t)?c(t,o):u(t)?c(t,i):f(t)};t.exports=s}),r=n&&"object"==typeof n&&"default"in n?n.default:n,o=t(function(t){var e=r,n=Object.prototype.toString,o=function(t){var e=typeof t;return"number"===e||"object"===e&&"[object Number]"===n.call(t)},i="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===n.call(t)},a=function(t){return null!=t&&(i(t)||"function"!==t&&o(t.length))},u=function(t,e){for(var n=0;n<e.length&&t(e[n],n,e)!==!1;n+=1);},c=function(t,n){for(var r=e(n),o=0;o<r.length&&t(n[r[o]],r[o],n)!==!1;o+=1);},f=function(t,e){return(a(e)?u:c).call(this,t,e)};t.exports=f}),i=o&&"object"==typeof o&&"default"in o?o.default:o,a=t(function(t){var e=i,n=String.prototype.indexOf,r=function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e},o=function(t,o){var i=!1;return"string"==typeof o?n.call(o,t)!==-1:(e(function(e){if(r(e,t))return i=!0,!1},o),i)};t.exports=o}),u=a&&"object"==typeof a&&"default"in a?a.default:a,c=t(function(t){function e(t,e){if("string"!=typeof t)throw new TypeError("String expected");e||(e=document);var n=/<([\w:]+)/.exec(t);if(!n)return e.createTextNode(t);t=t.replace(/^\s+|\s+$/g,"");var r=n[1];if("body"==r){var i=e.createElement("html");return i.innerHTML=t,i.removeChild(i.lastChild)}var a=o[r]||o._default,u=a[0],c=a[1],f=a[2],i=e.createElement("div");for(i.innerHTML=c+t+f;u--;)i=i.lastChild;if(i.firstChild==i.lastChild)return i.removeChild(i.firstChild);for(var s=e.createDocumentFragment();i.firstChild;)s.appendChild(i.removeChild(i.firstChild));return s}t.exports=e;var n,r=!1;"undefined"!=typeof document&&(n=document.createElement("div"),n.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',r=!n.getElementsByTagName("link").length,n=void 0);var o={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:r?[1,"X<div>","</div>"]:[0,"",""]};o.td=o.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],o.option=o.optgroup=[1,'<select multiple="multiple">',"</select>"],o.thead=o.tbody=o.colgroup=o.caption=o.tfoot=[1,"<table>","</table>"],o.polyline=o.ellipse=o.polygon=o.circle=o.text=o.line=o.path=o.rect=o.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]}),f=c&&"object"==typeof c&&"default"in c?c.default:c,s=t(function(t){function e(t){if(t)return n(t)}function n(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}"undefined"!=typeof t&&(t.exports=e),e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===e||r.fn===e){n.splice(o,1);break}return this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}),p=s&&"object"==typeof s&&"default"in s?s.default:s,l=t(function(t,e){function n(t){t=t.replace(' src="',' data-src="');var e=o(t),n={};return a(function(e){var r="data-src"===e.name?"src":e.name;c(e.name+"=",t)&&(n[r]=e.value)},e.attributes),{type:e.tagName.toLowerCase(),attrs:n}}var r=p,o=f,a=i,c=u;r(e),e.option=function(t,e){return this.prototype.defaults[t]=e,this},e.mapping=function(t){return this.option(t,[]),this.prototype[t]=function(e){return this.map(this.options[t],e)},this},e.global=function(t){return this.prototype.globals.push(t),this},e.assumesPageview=function(){return this.prototype._assumesPageview=!0,this},e.readyOnLoad=function(){return this.prototype._readyOnLoad=!0,this},e.readyOnInitialize=function(){return this.prototype._readyOnInitialize=!0,this},e.tag=function(t,e){return null==e&&(e=t,t="library"),this.prototype.templates[t]=n(e),this}}),d=l&&"object"==typeof l&&"default"in l?l.default:l,y=t(function(t){function e(t){return o.test(t)?t.toLowerCase():i.test(t)?(n(t)||t).toLowerCase():r(t).toLowerCase()}function n(t){return t.replace(a,function(t,e){return e?" "+e:""})}function r(t){return t.replace(u,function(t,e,n){return e+" "+n.toLowerCase().split("").join(" ")})}t.exports=e;var o=/\s/,i=/[\W_]/,a=/[\W_]+(.|$)/g,u=/(.)([A-Z]+)/g}),h=y&&"object"==typeof y&&"default"in y?y.default:y,v=t(function(t){var e,n;e=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t},n=function(t){var n,r=document.createTextNode(""),o=0;return new t(function(){var t;if(n)return t=n,n=null,"function"==typeof t?void t():void t.forEach(function(t){t()})}).observe(r,{characterData:!0}),function(t){return e(t),n?void("function"==typeof n?n=[n,t]:n.push(t)):(n=t,void(r.data=o=++o%2))}},t.exports=function(){if("undefined"!=typeof process&&process&&"function"==typeof process.nextTick)return process.nextTick;if("object"==typeof document&&document){if("function"==typeof MutationObserver)return n(MutationObserver);if("function"==typeof WebKitMutationObserver)return n(WebKitMutationObserver)}return"function"==typeof setImmediate?function(t){setImmediate(e(t))}:"function"==typeof setTimeout?function(t){setTimeout(e(t),0)}:null}()}),b=v&&"object"==typeof v&&"default"in v?v.default:v,g=t(function(t){function e(t){return!(null==t||!(t._isBuffer||t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)))}var n=Object.prototype.toString;t.exports=function(t){switch(n.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!==t?"nan":t&&1===t.nodeType?"element":e(t)?"buffer":(t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t),typeof t)}}),m=g&&"object"==typeof g&&"default"in g?g.default:g,j=t(function(t){function e(t,e){t.addEventListener("load",function(t,n){e(null,n)},!1),t.addEventListener("error",function(n){var r=new Error('script error "'+t.src+'"');r.event=n,e(r)},!1)}function n(t,e){t.attachEvent("onreadystatechange",function(n){/complete|loaded/.test(t.readyState)&&e(null,n)}),t.attachEvent("onerror",function(n){var r=new Error('failed to load the script "'+t.src+'"');r.event=n||window.event,e(r)})}t.exports=function(t,r){return t.addEventListener?e(t,r):n(t,r)}}),w=j&&"object"==typeof j&&"default"in j?j.default:j,x=t(function(t){function e(t,e){if(!t)throw new Error("Can't load nothing...");"string"===o(t)&&(t={src:t});var i="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;t.src&&0===t.src.indexOf("//")&&(t.src=(i?"https:":"http:")+t.src),i&&t.https?t.src=t.https:!i&&t.http&&(t.src=t.http);var a=document.createElement("script");return a.type="text/javascript",a.async=!0,a.src=t.src,"function"===o(e)&&n(a,e),r(function(){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(a,t)}),a}var n=w,r=b,o=m;t.exports=e}),_=x&&"object"==typeof x&&"default"in x?x.default:x,k=t(function(t){var e,n=Object.prototype,r=n.hasOwnProperty,o=n.toString;"function"==typeof Symbol&&(e=Symbol.prototype.valueOf);var i=function(t){return t!==t},a={boolean:1,number:1,string:1,undefined:1},u=/^([A-Za-z0-9+\/]{4})*([A-Za-z0-9+\/]{4}|[A-Za-z0-9+\/]{3}=|[A-Za-z0-9+\/]{2}==)$/,c=/^[A-Fa-f0-9]+$/,f=t.exports={};f.a=f.type=function(t,e){return typeof t===e},f.defined=function(t){return"undefined"!=typeof t},f.empty=function(t){var e,n=o.call(t);if("[object Array]"===n||"[object Arguments]"===n||"[object String]"===n)return 0===t.length;if("[object Object]"===n){for(e in t)if(r.call(t,e))return!1;return!0}return!t},f.equal=function(t,e){if(t===e)return!0;var n,r=o.call(t);if(r!==o.call(e))return!1;if("[object Object]"===r){for(n in t)if(!(f.equal(t[n],e[n])&&n in e))return!1;for(n in e)if(!(f.equal(t[n],e[n])&&n in t))return!1;return!0}if("[object Array]"===r){if(n=t.length,n!==e.length)return!1;for(;--n;)if(!f.equal(t[n],e[n]))return!1;return!0}return"[object Function]"===r?t.prototype===e.prototype:"[object Date]"===r&&t.getTime()===e.getTime()},f.hosted=function(t,e){var n=typeof e[t];return"object"===n?!!e[t]:!a[n]},f.instance=f.instanceof=function(t,e){return t instanceof e},f.nil=f.null=function(t){return null===t},f.undef=f.undefined=function(t){return"undefined"==typeof t},f.args=f.arguments=function(t){var e="[object Arguments]"===o.call(t),n=!f.array(t)&&f.arraylike(t)&&f.object(t)&&f.fn(t.callee);return e||n},f.array=Array.isArray||function(t){return"[object Array]"===o.call(t)},f.args.empty=function(t){return f.args(t)&&0===t.length},f.array.empty=function(t){return f.array(t)&&0===t.length},f.arraylike=function(t){return!!t&&!f.bool(t)&&r.call(t,"length")&&isFinite(t.length)&&f.number(t.length)&&t.length>=0},f.bool=f.boolean=function(t){return"[object Boolean]"===o.call(t)},f.false=function(t){return f.bool(t)&&Boolean(Number(t))===!1},f.true=function(t){return f.bool(t)&&Boolean(Number(t))===!0},f.date=function(t){return"[object Date]"===o.call(t)},f.element=function(t){return void 0!==t&&"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&1===t.nodeType},f.error=function(t){return"[object Error]"===o.call(t)},f.fn=f.function=function(t){var e="undefined"!=typeof window&&t===window.alert;return e||"[object Function]"===o.call(t)},f.number=function(t){return"[object Number]"===o.call(t)},f.infinite=function(t){return t===1/0||t===-(1/0)},f.decimal=function(t){return f.number(t)&&!i(t)&&!f.infinite(t)&&t%1!==0},f.divisibleBy=function(t,e){var n=f.infinite(t),r=f.infinite(e),o=f.number(t)&&!i(t)&&f.number(e)&&!i(e)&&0!==e;return n||r||o&&t%e===0},f.integer=f.int=function(t){return f.number(t)&&!i(t)&&t%1===0},f.maximum=function(t,e){if(i(t))throw new TypeError("NaN is not a valid value");if(!f.arraylike(e))throw new TypeError("second argument must be array-like");for(var n=e.length;--n>=0;)if(t<e[n])return!1;return!0},f.minimum=function(t,e){if(i(t))throw new TypeError("NaN is not a valid value");if(!f.arraylike(e))throw new TypeError("second argument must be array-like");for(var n=e.length;--n>=0;)if(t>e[n])return!1;return!0},f.nan=function(t){return!f.number(t)||t!==t},f.even=function(t){return f.infinite(t)||f.number(t)&&t===t&&t%2===0},f.odd=function(t){return f.infinite(t)||f.number(t)&&t===t&&t%2!==0},f.ge=function(t,e){if(i(t)||i(e))throw new TypeError("NaN is not a valid value");return!f.infinite(t)&&!f.infinite(e)&&t>=e},f.gt=function(t,e){if(i(t)||i(e))throw new TypeError("NaN is not a valid value");return!f.infinite(t)&&!f.infinite(e)&&t>e},f.le=function(t,e){if(i(t)||i(e))throw new TypeError("NaN is not a valid value");return!f.infinite(t)&&!f.infinite(e)&&t<=e},f.lt=function(t,e){if(i(t)||i(e))throw new TypeError("NaN is not a valid value");return!f.infinite(t)&&!f.infinite(e)&&t<e},f.within=function(t,e,n){if(i(t)||i(e)||i(n))throw new TypeError("NaN is not a valid value");if(!f.number(t)||!f.number(e)||!f.number(n))throw new TypeError("all arguments must be numbers");var r=f.infinite(t)||f.infinite(e)||f.infinite(n);return r||t>=e&&t<=n},f.object=function(t){return"[object Object]"===o.call(t)},f.hash=function(t){return f.object(t)&&t.constructor===Object&&!t.nodeType&&!t.setInterval},f.regexp=function(t){return"[object RegExp]"===o.call(t)},f.string=function(t){return"[object String]"===o.call(t)},f.base64=function(t){return f.string(t)&&(!t.length||u.test(t))},f.hex=function(t){return f.string(t)&&(!t.length||c.test(t))},f.symbol=function(t){return"function"==typeof Symbol&&"[object Symbol]"===o.call(t)&&"symbol"==typeof e.call(t)}}),O=k&&"object"==typeof k&&"default"in k?k.default:k,T=t(function(t){var e=O,n=w,r=b;t.exports=function(t,o){if(!t)throw new Error("Cant load nothing...");e.string(t)&&(t={src:t});var i="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;t.src&&0===t.src.indexOf("//")&&(t.src=i?"https:"+t.src:"http:"+t.src),i&&t.https?t.src=t.https:!i&&t.http&&(t.src=t.http);var a=document.createElement("iframe");return a.src=t.src,a.width=t.width||1,a.height=t.height||1,a.style.display="none",e.fn(o)&&n(a,o),r(function(){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(a,t)}),a}}),E=T&&"object"==typeof T&&"default"in T?T.default:T,A=t(function(t){var e=i,n=function(t,n,r){if("function"!=typeof t)throw new TypeError("Expected a function but received a "+typeof t);return e(function(e,r,o){n=t(n,e,r,o)},r),n};t.exports=n}),I=A&&"object"==typeof A&&"default"in A?A.default:A,S=t(function(t){function n(t){var e=Array.prototype.slice.call(arguments,1),r=0;return t.replace(/%([a-z])/gi,function(t,o){return n[o]?n[o](e[r++]):t+o})}var r=e.JSON&&"function"==typeof JSON.stringify?JSON.stringify:String;n.o=r,n.s=String,n.d=parseInt,t.exports=n}),C=S&&"object"==typeof S&&"default"in S?S.default:S,N=t(function(t){var e=i,n=function(t,n){if("function"!=typeof t)throw new TypeError("`predicate` must be a function but was a "+typeof t);var r=!0;return e(function(e,n,o){if(r=!!t(e,n,o),!r)return!1},n),r};t.exports=n}),z=N&&"object"==typeof N&&"default"in N?N.default:N,D=t(function(t){var e=Object.prototype.toString,n=function(t){return"function"==typeof t},r=function(t){var n=typeof t;return"number"===n||"object"===n&&"[object Number]"===e.call(t)},o=function(t){for(var e=[],n=1;n<=t;n+=1)e.push("arg"+n);return e},i=function(t){var e=o(t).join(", "),n="".concat("  return function(",e,") {\n","    return func.apply(this, arguments);\n","  };");return new Function("func",n)},a=[function(t){return function(){return t.apply(this,arguments)}},function(t){return function(e){return t.apply(this,arguments)}},function(t){return function(e,n){return t.apply(this,arguments)}},function(t){return function(e,n,r){return t.apply(this,arguments)}},function(t){return function(e,n,r,o){return t.apply(this,arguments)}},function(t){return function(e,n,r,o,i){return t.apply(this,arguments)}}],u=function(t,e){if(!n(e))throw new TypeError("Expected a function but got "+typeof e);return t=Math.max(r(t)?t:0,0),a[t]||(a[t]=i(t)),a[t](e)};t.exports=u}),P=D&&"object"==typeof D&&"default"in D?D.default:D,L=t(function(t){var e=P,n=Object.prototype.toString,r=function(t){return"function"==typeof t},o=function(t){var e=typeof t;return"number"===e||"object"===e&&"[object Number]"===n.call(t)},i=function(t,n){if(!o(t))throw new TypeError("Expected a number but received "+typeof t);if(!r(n))throw new TypeError("Expected a function but received "+typeof n);var i=0;return e(n.length,function(){if(i+=1,!(i<t))return n.apply(this,arguments)})};t.exports=i}),M=L&&"object"==typeof L&&"default"in L?L.default:L,U=t(function(t,e){function n(t){return v.array(t)?l(r,t)?"mixed":"array":v.object(t)?"map":"unknown"}function r(t){return!!v.object(t)&&(!!v.string(t.key)&&!!x.call(t,"value"))}function o(t,e){e=e||function(){};var n=new Image;return n.onerror=a(e,"failed to load pixel",n),n.onload=function(){e()},n.src=t.src,n.width=1,n.height=1,n}function a(t,e,n){return function(r){r=r||window.event;var o=new Error(e);o.event=r,o.source=n,t(o)}}function u(t,e){return y(function(t,n,r){return t[r]=n.replace(/\{\{\ *(\w+)\ *\}\}/g,function(t,n){return e[n]}),t},{},t.attrs)}var c=p,f=M,s=i,l=z,d=C,y=I,v=O,g=E,m=_,j=b,w=h,x=Object.prototype.hasOwnProperty,k=function(){},T=window.onerror,A=null;c(e),e.initialize=function(){var t=this.ready;j(t)},e.loaded=function(){return!1},e.page=function(t){},e.track=function(t){},e.map=function(t,e){var r=w(e),o=n(t);return"unknown"===o?[]:y(function(t,e,n){var i,a;return"map"===o&&(i=n,a=e),"array"===o&&(i=e,a=e),"mixed"===o&&(i=e.key,a=e.value),w(i)===r&&t.push(a),t},[],t)},e.invoke=function(t){if(this[t]){var e=Array.prototype.slice.call(arguments,1);if(!this._ready)return this.queue(t,e);var n;try{n=this[t].apply(this,e)}catch(t){}return n}},e.queue=function(t,e){this._queue.push({method:t,args:e})},e.flush=function(){this._ready=!0;var t=this;s(function(e){t[e.method].apply(t,e.args)},this._queue),this._queue.length=0},e.reset=function(){for(var t=0;t<this.globals.length;t++)window[this.globals[t]]=void 0;window.onerror=T,window.onload=A},e.load=function(t,e,n){"function"==typeof t&&(n=t,e=null,t=null),t&&"object"==typeof t&&(n=e,e=t,t=null),"function"==typeof e&&(n=e,e=null),t=t||"library",e=e||{},e=this.locals(e);var r=this.templates[t];if(!r)throw new Error(d('template "%s" not defined.',t));var i=u(r,e);n=n||k;var a;switch(r.type){case"img":i.width=1,i.height=1,a=o(i,n);break;case"script":a=m(i,function(t){if(!t)return n()}),delete i.src,s(function(t,e){a.setAttribute(e,t)},i);break;case"iframe":a=g(i,n)}return a},e.locals=function(t){t=t||{};var e=Math.floor((new Date).getTime()/36e5);return t.hasOwnProperty("cache")||(t.cache=e),s(function(e,n){t.hasOwnProperty(n)||(t[n]=e)},this.options),t},e.ready=function(){this.emit("ready")},e._wrapInitialize=function(){var t=this.initialize;this.initialize=function(){this._initialized=!0;var e=t.apply(this,arguments);return this.emit("initialize"),e}},e._wrapPage=function(){if(this._assumesPageview)return this.page=f(2,this.page)},e._wrapTrack=function(){var t=this.track;this.track=function(e){var n,r;e.event();return n||(r=t.apply(this,arguments)),r}}}),$=U&&"object"==typeof U&&"default"in U?U.default:U,q=t(function(t){var e=Object.prototype.hasOwnProperty,n=function(t){for(var n=Array.prototype.slice.call(arguments,1),r=0;r<n.length;r+=1)for(var o in n[r])e.call(n[r],o)&&(t[o]=n[r][o]);return t};t.exports=n}),B=q&&"object"==typeof q&&"default"in q?q.default:q,F=t(function(t){var e=Math.max,n=function(t){if(null==t||!t.length)return[];for(var n=new Array(e(t.length-2,0)),r=1;r<t.length;r+=1)n[r-1]=t[r];return n};t.exports=n}),J=F&&"object"==typeof F&&"default"in F?F.default:F,Z=t(function(t){var e=Math.max,n=function(t,n){var r=n?n.length:0;if(!r)return[];for(var o=e(Number(t)||0,0),i=e(r-o,0),a=new Array(i),u=0;u<i;u+=1)a[u]=n[u+o];return a};t.exports=n}),R=Z&&"object"==typeof Z&&"default"in Z?Z.default:Z,H=t(function(t){var e=R,n=J,r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=function(t){return Boolean(t)&&"object"==typeof t},a=function(t){return Boolean(t)&&"[object Object]"===o.call(t)},u=function(t,e,n,o){return r.call(e,o)&&void 0===t[o]&&(t[o]=n),e},c=function(t,e,n,o){return r.call(e,o)&&(a(t[o])&&a(n)?t[o]=s(t[o],n):void 0===t[o]&&(t[o]=n)),e},f=function(t,n){if(!i(n))return n;t=t||u;for(var r=e(2,arguments),o=0;o<r.length;o+=1)for(var a in r[o])t(n,r[o],r[o][a],a);return n},s=function(t){return f.apply(null,[c,t].concat(n(arguments)))},p=function(t){return f.apply(null,[null,t].concat(n(arguments)))};t.exports=p,t.exports.deep=s}),V=H&&"object"==typeof H&&"default"in H?H.default:H,W=t(function(t){var e=m,n=function t(n){var r=e(n);if("object"===r){var o={};for(var i in n)n.hasOwnProperty(i)&&(o[i]=t(n[i]));return o}if("array"===r){for(var o=new Array(n.length),a=0,u=n.length;a<u;a++)o[a]=t(n[a]);return o}if("regexp"===r){var c="";return c+=n.multiline?"m":"",c+=n.global?"g":"",c+=n.ignoreCase?"i":"",new RegExp(n.source,c)}return"date"===r?new Date(n.getTime()):n};t.exports=n}),X=W&&"object"==typeof W&&"default"in W?W.default:W,K=t(function(t){var e=[].slice;t.exports=function(t,n){if("string"==typeof n&&(n=t[n]),"function"!=typeof n)throw new Error("bind() requires a function");var r=e.call(arguments,2);return function(){return n.apply(t,r.concat(e.call(arguments)))}}}),Y=K&&"object"==typeof K&&"default"in K?K.default:K,G=t(function(t){function e(t){function e(t){return t&&t.addIntegration?t.addIntegration(e):(this.options=o(r(t)||{},this.defaults),this._queue=[],this.once("ready",n(this,this.flush)),e.emit("construct",this),this.ready=n(this,this.ready),this._wrapInitialize(),this._wrapPage(),void this._wrapTrack())}return e.prototype.defaults={},e.prototype.globals=[],e.prototype.templates={},e.prototype.name=t,i(e,u),i(e.prototype,a),e}var n=Y,r=X,o=V,i=B,a=$,u=d;t.exports=e}),Q=G&&"object"==typeof G&&"default"in G?G.default:G,tt=t(function(t){var n;if(e.crypto&&crypto.getRandomValues){var r=new Uint8Array(16);n=function(){return crypto.getRandomValues(r),r}}if(!n){var o=new Array(16);n=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}t.exports=n}),et=tt&&"object"==typeof tt&&"default"in tt?tt.default:tt,nt=t(function(t){function e(t,e,n){var r=e&&n||0,o=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){o<16&&(e[r+o++]=u[t])});o<16;)e[r+o++]=0;return e}function n(t,e){var n=e||0,r=a;return r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]}function r(t,e,r){var o=e&&r||0,i=e||[];t=t||{};var a=void 0!==t.clockseq?t.clockseq:p,u=void 0!==t.msecs?t.msecs:(new Date).getTime(),c=void 0!==t.nsecs?t.nsecs:d+1,f=u-l+(c-d)/1e4;if(f<0&&void 0===t.clockseq&&(a=a+1&16383),(f<0||u>l)&&void 0===t.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=u,d=c,p=a,u+=122192928e5;var y=(1e4*(268435455&u)+c)%4294967296;i[o++]=y>>>24&255,i[o++]=y>>>16&255,i[o++]=y>>>8&255,i[o++]=255&y;var h=u/4294967296*1e4&268435455;i[o++]=h>>>8&255,i[o++]=255&h,i[o++]=h>>>24&15|16,i[o++]=h>>>16&255,i[o++]=a>>>8|128,i[o++]=255&a;for(var v=t.node||s,b=0;b<6;b++)i[o+b]=v[b];return e?e:n(i)}function o(t,e,r){var o=e&&r||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),t=t||{};var a=t.random||(t.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var u=0;u<16;u++)e[o+u]=a[u];return e||n(a)}for(var i=et,a=[],u={},c=0;c<256;c++)a[c]=(c+256).toString(16).substr(1),u[a[c]]=c;var f=i(),s=[1|f[0],f[1],f[2],f[3],f[4],f[5]],p=16383&(f[6]<<8|f[7]),l=0,d=0,y=o;y.v1=r,y.v4=o,y.parse=e,y.unparse=n,t.exports=y}),rt=nt&&"object"==typeof nt&&"default"in nt?nt.default:nt,ot=t(function(t){function e(t,e,n){n=n||{};var r=i(t)+"="+i(e);null==e&&(n.maxage=-1),n.maxage&&(n.expires=new Date(+new Date+n.maxage)),n.path&&(r+="; path="+n.path),n.domain&&(r+="; domain="+n.domain),n.expires&&(r+="; expires="+n.expires.toUTCString()),n.secure&&(r+="; secure"),document.cookie=r}function n(){var t;try{t=document.cookie}catch(t){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t.stack||t),{}}return o(t)}function r(t){return n()[t]}function o(t){var e,n={},r=t.split(/ *; */);if(""==r[0])return n;for(var o=0;o<r.length;++o)e=r[o].split("="),n[a(e[0])]=a(e[1]);return n}function i(t){try{return encodeURIComponent(t)}catch(t){console.error(t)}}function a(t){try{return decodeURIComponent(t)}catch(t){console.error(t)}}t.exports=function(t,o,i){switch(arguments.length){case 3:case 2:return e(t,o,i);case 1:return r(t);default:return n()}}}),it=ot&&"object"==typeof ot&&"default"in ot?ot.default:ot,at=t(function(t){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}),ut=at&&"object"==typeof at&&"default"in at?at.default:at,ct=t(function(t){function e(t){for(var e in t){var r=t[e];"function"==typeof r&&(t[e]=n(t,t[e]))}return t}var n=Y;t.exports=e}),ft=ct&&"object"==typeof ct&&"default"in ct?ct.default:ct,st=t(function(t,n){(function(){function e(t,n){function r(t){if(r[t]!==v)return r[t];var e;if("bug-string-char-index"==t)e="a"!="a"[0];else if("json"==t)e=r("json-stringify")&&r("json-parse");else{var o,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var c=n.stringify,s="function"==typeof c&&m;if(s){(o=function(){return 1}).toJSON=o;try{s="0"===c(0)&&"0"===c(new i)&&'""'==c(new u)&&c(g)===v&&c(v)===v&&c()===v&&"1"===c(o)&&"[1]"==c([o])&&"[null]"==c([v])&&"null"==c(null)&&"[null,null,null]"==c([v,g,null])&&c({a:[o,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===c(null,o)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new f((-864e13)))&&'"+275760-09-13T00:00:00.000Z"'==c(new f(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new f((-621987552e5)))&&'"1969-12-31T23:59:59.999Z"'==c(new f((-1)))}catch(t){s=!1}}e=s}if("json-parse"==t){var p=n.parse;if("function"==typeof p)try{if(0===p("0")&&!p(!1)){o=p(a);var l=5==o.a.length&&1===o.a[0];if(l){try{l=!p('"\t"')}catch(t){}if(l)try{l=1!==p("01")}catch(t){}if(l)try{l=1!==p("1.")}catch(t){}}}}catch(t){l=!1}e=l}}return r[t]=!!e}t||(t=a.Object()),n||(n=a.Object());var i=t.Number||a.Number,u=t.String||a.String,c=t.Object||a.Object,f=t.Date||a.Date,s=t.SyntaxError||a.SyntaxError,p=t.TypeError||a.TypeError,l=t.Math||a.Math,d=t.JSON||a.JSON;"object"==typeof d&&d&&(n.stringify=d.stringify,n.parse=d.parse);var y,h,v,b=c.prototype,g=b.toString,m=new f((-0xc782b5b800cec));try{m=m.getUTCFullYear()==-109252&&0===m.getUTCMonth()&&1===m.getUTCDate()&&10==m.getUTCHours()&&37==m.getUTCMinutes()&&6==m.getUTCSeconds()&&708==m.getUTCMilliseconds()}catch(t){}if(!r("json")){var j="[object Function]",w="[object Date]",x="[object Number]",_="[object String]",k="[object Array]",O="[object Boolean]",T=r("bug-string-char-index");if(!m)var E=l.floor,A=[0,31,59,90,120,151,181,212,243,273,304,334],I=function(t,e){return A[e]+365*(t-1970)+E((t-1969+(e=+(e>1)))/4)-E((t-1901+e)/100)+E((t-1601+e)/400)};if((y=b.hasOwnProperty)||(y=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=g?y=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,y=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,y.call(this,t)}),h=function(t,e){var n,r,i,a=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(i in r)y.call(r,i)&&a++;return n=r=null,a?h=2==a?function(t,e){var n,r={},o=g.call(t)==j;for(n in t)o&&"prototype"==n||y.call(r,n)||!(r[n]=1)||!y.call(t,n)||e(n)}:function(t,e){var n,r,o=g.call(t)==j;for(n in t)o&&"prototype"==n||!y.call(t,n)||(r="constructor"===n)||e(n);(r||y.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],h=function(t,e){var n,i,a=g.call(t)==j,u=!a&&"function"!=typeof t.constructor&&o[typeof t.hasOwnProperty]&&t.hasOwnProperty||y;for(n in t)a&&"prototype"==n||!u.call(t,n)||e(n);for(i=r.length;n=r[--i];u.call(t,n)&&e(n));}),h(t,e)},!r("json-stringify")){var S={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},C="000000",N=function(t,e){return(C+(e||0)).slice(-t)},z="\\u00",D=function(t){for(var e='"',n=0,r=t.length,o=!T||r>10,i=o&&(T?t.split(""):t);n<r;n++){var a=t.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=S[a];break;default:if(a<32){e+=z+N(2,a.toString(16));break}e+=o?i[n]:t.charAt(n)}}return e+'"'},P=function(t,e,n,r,o,i,a){var u,c,f,s,l,d,b,m,j,T,A,S,C,z,L,M;try{u=e[t]}catch(t){}if("object"==typeof u&&u)if(c=g.call(u),c!=w||y.call(u,"toJSON"))"function"==typeof u.toJSON&&(c!=x&&c!=_&&c!=k||y.call(u,"toJSON"))&&(u=u.toJSON(t));else if(u>-1/0&&u<1/0){if(I){for(l=E(u/864e5),f=E(l/365.2425)+1970-1;I(f+1,0)<=l;f++);for(s=E((l-I(f,0))/30.42);I(f,s+1)<=l;s++);l=1+l-I(f,s),d=(u%864e5+864e5)%864e5,b=E(d/36e5)%24,m=E(d/6e4)%60,j=E(d/1e3)%60,T=d%1e3}else f=u.getUTCFullYear(),s=u.getUTCMonth(),l=u.getUTCDate(),b=u.getUTCHours(),m=u.getUTCMinutes(),j=u.getUTCSeconds(),T=u.getUTCMilliseconds();u=(f<=0||f>=1e4?(f<0?"-":"+")+N(6,f<0?-f:f):N(4,f))+"-"+N(2,s+1)+"-"+N(2,l)+"T"+N(2,b)+":"+N(2,m)+":"+N(2,j)+"."+N(3,T)+"Z"}else u=null;if(n&&(u=n.call(e,t,u)),null===u)return"null";if(c=g.call(u),c==O)return""+u;if(c==x)return u>-1/0&&u<1/0?""+u:"null";if(c==_)return D(""+u);if("object"==typeof u){for(z=a.length;z--;)if(a[z]===u)throw p();if(a.push(u),A=[],L=i,i+=o,c==k){for(C=0,z=u.length;C<z;C++)S=P(C,u,n,r,o,i,a),A.push(S===v?"null":S);M=A.length?o?"[\n"+i+A.join(",\n"+i)+"\n"+L+"]":"["+A.join(",")+"]":"[]"}else h(r||u,function(t){var e=P(t,u,n,r,o,i,a);e!==v&&A.push(D(t)+":"+(o?" ":"")+e)}),M=A.length?o?"{\n"+i+A.join(",\n"+i)+"\n"+L+"}":"{"+A.join(",")+"}":"{}";return a.pop(),M}};n.stringify=function(t,e,n){var r,i,a,u;if(o[typeof e]&&e)if((u=g.call(e))==j)i=e;else if(u==k){a={};for(var c,f=0,s=e.length;f<s;c=e[f++],u=g.call(c),(u==_||u==x)&&(a[c]=1));}if(n)if((u=g.call(n))==x){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else u==_&&(r=n.length<=10?n:n.slice(0,10));return P("",(c={},c[""]=t,c),i,a,r,"",[])}}if(!r("json-parse")){var L,M,U=u.fromCharCode,$={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},q=function(){throw L=M=null,s()},B=function(){for(var t,e,n,r,o,i=M,a=i.length;L<a;)switch(o=i.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=T?i.charAt(L):i[L],L++,t;case 34:for(t="@",L++;L<a;)if(o=i.charCodeAt(L),o<32)q();else if(92==o)switch(o=i.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=$[o],L++;break;case 117:for(e=++L,n=L+4;L<n;L++)o=i.charCodeAt(L),o>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||q();t+=U("0x"+i.slice(e,L));break;default:q()}else{if(34==o)break;for(o=i.charCodeAt(L),e=L;o>=32&&92!=o&&34!=o;)o=i.charCodeAt(++L);t+=i.slice(e,L)}if(34==i.charCodeAt(L))return L++,t;q();default:if(e=L,45==o&&(r=!0,o=i.charCodeAt(++L)),o>=48&&o<=57){for(48==o&&(o=i.charCodeAt(L+1),o>=48&&o<=57)&&q(),r=!1;L<a&&(o=i.charCodeAt(L),o>=48&&o<=57);L++);if(46==i.charCodeAt(L)){for(n=++L;n<a&&(o=i.charCodeAt(n),o>=48&&o<=57);n++);n==L&&q(),L=n}if(o=i.charCodeAt(L),101==o||69==o){for(o=i.charCodeAt(++L),43!=o&&45!=o||L++,n=L;n<a&&(o=i.charCodeAt(n),o>=48&&o<=57);n++);n==L&&q(),L=n}return+i.slice(e,L)}if(r&&q(),"true"==i.slice(L,L+4))return L+=4,!0;if("false"==i.slice(L,L+5))return L+=5,!1;if("null"==i.slice(L,L+4))return L+=4,null;q()}return"$"},F=function(t){var e,n;if("$"==t&&q(),"string"==typeof t){if("@"==(T?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=B(),"]"!=t;n||(n=!0))n&&(","==t?(t=B(),"]"==t&&q()):q()),","==t&&q(),e.push(F(t));return e}if("{"==t){for(e={};t=B(),"}"!=t;n||(n=!0))n&&(","==t?(t=B(),"}"==t&&q()):q()),","!=t&&"string"==typeof t&&"@"==(T?t.charAt(0):t[0])&&":"==B()||q(),e[t.slice(1)]=F(B());return e}q()}return t},J=function(t,e,n){var r=Z(t,e,n);r===v?delete t[e]:t[e]=r},Z=function(t,e,n){var r,o=t[e];if("object"==typeof o&&o)if(g.call(o)==k)for(r=o.length;r--;)J(o,r,n);else h(o,function(t){J(o,t,n)});return n.call(t,e,o)};n.parse=function(t,e){var n,r;return L=0,M=""+t,n=F(B()),"$"!=B()&&q(),L=M=null,e&&g.call(e)==j?Z((r={},r[""]=n,r),"",e):n}}}return n.runInContext=e,n}var r="function"==typeof define&&define.amd,o={function:!0,
object:!0},i=o[typeof n]&&n&&!n.nodeType&&n,a=o[typeof window]&&window||this,u=i&&o[typeof t]&&t&&!t.nodeType&&"object"==typeof global&&global;if(!u||u.global!==u&&u.window!==u&&u.self!==u||(a=u),i&&!r)e(a,i);else{var c=a.JSON,f=a.JSON3,s=!1,p=e(a,a.JSON3={noConflict:function(){return s||(s=!0,a.JSON=c,a.JSON3=f,c=f=null),p}});a.JSON={parse:p.parse,stringify:p.stringify}}r&&define(function(){return p})}).call(e)}),pt=st&&"object"==typeof st&&"default"in st?st.default:st,lt=t(function(t){var n=pt;t.exports=function(){function t(){try{return u in i&&i[u]}catch(t){return!1}}var r,o={},i="undefined"!=typeof window?window:e,a=i.document,u="localStorage",c="script";if(o.disabled=!1,o.version="1.3.20",o.set=function(t,e){},o.get=function(t,e){},o.has=function(t){return void 0!==o.get(t)},o.remove=function(t){},o.clear=function(){},o.transact=function(t,e,n){null==n&&(n=e,e=null),null==e&&(e={});var r=o.get(t,e);n(r),o.set(t,r)},o.getAll=function(){var t={};return o.forEach(function(e,n){t[e]=n}),t},o.forEach=function(){},o.serialize=function(t){return n.stringify(t)},o.deserialize=function(t){if("string"==typeof t)try{return n.parse(t)}catch(e){return t||void 0}},t())r=i[u],o.set=function(t,e){return void 0===e?o.remove(t):(r.setItem(t,o.serialize(e)),e)},o.get=function(t,e){var n=o.deserialize(r.getItem(t));return void 0===n?e:n},o.remove=function(t){r.removeItem(t)},o.clear=function(){r.clear()},o.forEach=function(t){for(var e=0;e<r.length;e++){var n=r.key(e);t(n,o.get(n))}};else if(a&&a.documentElement.addBehavior){var f,s;try{s=new ActiveXObject("htmlfile"),s.open(),s.write("<"+c+">document.w=window</"+c+'><iframe src="/favicon.ico"></iframe>'),s.close(),f=s.w.frames[0].document,r=f.createElement("div")}catch(t){r=a.createElement("div"),f=a.body}var p=function(t){return function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(r),f.appendChild(r),r.addBehavior("#default#userData"),r.load(u);var n=t.apply(o,e);return f.removeChild(r),n}},l=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),d=function(t){return t.replace(/^d/,"___$&").replace(l,"___")};o.set=p(function(t,e,n){return e=d(e),void 0===n?o.remove(e):(t.setAttribute(e,o.serialize(n)),t.save(u),n)}),o.get=p(function(t,e,n){e=d(e);var r=o.deserialize(t.getAttribute(e));return void 0===r?n:r}),o.remove=p(function(t,e){e=d(e),t.removeAttribute(e),t.save(u)}),o.clear=p(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(u);for(var n=e.length-1;n>=0;n--)t.removeAttribute(e[n].name);t.save(u)}),o.forEach=p(function(t,e){for(var n,r=t.XMLDocument.documentElement.attributes,i=0;n=r[i];++i)e(n.name,o.deserialize(t.getAttribute(n.name)))})}try{var y="__storejs__";o.set(y,y),o.get(y)!=y&&(o.disabled=!0),o.remove(y)}catch(t){o.disabled=!0}return o.enabled=!o.disabled,o}()}),dt=lt&&"object"==typeof lt&&"default"in lt?lt.default:lt,yt=t(function(t){function e(t){this.options(t)}var n=ft,r=V,o=dt;e.prototype.options=function(t){return 0===arguments.length?this._options:(t=t||{},r(t,{enabled:!0}),this.enabled=t.enabled&&o.enabled,void(this._options=t))},e.prototype.set=function(t,e){return!!this.enabled&&o.set(t,e)},e.prototype.get=function(t){return this.enabled?o.get(t):null},e.prototype.remove=function(t){return!!this.enabled&&o.remove(t)},t.exports=n(new e),t.exports.Store=e}),ht=yt&&"object"==typeof yt&&"default"in yt?yt.default:yt,vt=t(function(t){function e(){this.store={}}var n=ft,r=X,o=Object.prototype.hasOwnProperty;t.exports=n(new e),e.prototype.set=function(t,e){return this.store[t]=r(e),!0},e.prototype.get=function(t){if(o.call(this.store,t))return r(this.store[t])},e.prototype.remove=function(t){return delete this.store[t],!0}}),bt=vt&&"object"==typeof vt&&"default"in vt?vt.default:vt,gt=t(function(t,e){function n(t){switch(t){case"http:":return 80;case"https:":return 443;default:return location.port}}e.parse=function(t){var e=document.createElement("a");return e.href=t,{href:e.href,host:e.host||location.host,port:"0"===e.port||""===e.port?n(e.protocol):e.port,hash:e.hash,hostname:e.hostname||location.hostname,pathname:"/"!=e.pathname.charAt(0)?"/"+e.pathname:e.pathname,protocol:e.protocol&&":"!=e.protocol?e.protocol:location.protocol,search:e.search,query:e.search.slice(1)}},e.isAbsolute=function(t){return 0==t.indexOf("//")||!!~t.indexOf("://")},e.isRelative=function(t){return!e.isAbsolute(t)},e.isCrossDomain=function(t){t=e.parse(t);var n=e.parse(window.location.href);return t.hostname!==n.hostname||t.port!==n.port||t.protocol!==n.protocol}}),mt=gt&&"object"==typeof gt&&"default"in gt?gt.default:gt,jt=t(function(t,e){function n(t){for(var n=e.cookie,r=e.levels(t),o=0;o<r.length;++o){var i="__tld__",a=r[o],u={domain:"."+a};if(n(i,1,u),n(i))return n(i,null,u),a}return""}var r=mt.parse,o=it;n.levels=function(t){var e=r(t).hostname,n=e.split("."),o=n[n.length-1],i=[];if(4===n.length&&o===parseInt(o,10))return i;if(n.length<=1)return i;for(var a=n.length-2;a>=0;--a)i.push(n.slice(a).join("."));return i},n.cookie=o,e=t.exports=n}),wt=jt&&"object"==typeof jt&&"default"in jt?jt.default:jt,xt=t(function(t){function e(t){this.options(t)}var n=ft,r=X,o=it,i=V,a=pt,u=wt;e.prototype.options=function(t){if(0===arguments.length)return this._options;t=t||{};var e="."+u(window.location.href);"."===e&&(e=null),this._options=i(t,{maxage:31536e6,path:"/",domain:e}),this.set("ajs:test",!0),this.get("ajs:test")||(this._options.domain=null),this.remove("ajs:test")},e.prototype.set=function(t,e){try{return e=a.stringify(e),o(t,e,r(this._options)),!0}catch(t){return!1}},e.prototype.get=function(t){try{var e=o(t);return e=e?a.parse(e):null}catch(t){return null}},e.prototype.remove=function(t){try{return o(t,null,r(this._options)),!0}catch(t){return!1}},t.exports=n(new e),t.exports.Cookie=e}),_t=xt&&"object"==typeof xt&&"default"in xt?xt.default:xt,kt=t(function(t){function e(t){this.options(t),this.initialize()}var n=_t,r=V,o=B,i=bt,a=ht;t.exports=e,e.prototype.initialize=function(){return n.set("ajs:cookies",!0),n.get("ajs:cookies")?(n.remove("ajs:cookies"),void(this._storage=n)):a.enabled?void(this._storage=a):void(this._storage=i)},e.prototype.storage=function(){return this._storage},e.prototype.options=function(t){return 0===arguments.length?this._options:void(this._options=r(t||{},this.defaults||{}))},e.prototype.id=function(t){switch(arguments.length){case 0:return this._getId();case 1:return this._setId(t)}},e.prototype._getId=function(){var t=this._options.persist?this.storage().get(this._options.cookie.key):this._id;return void 0===t?null:t},e.prototype._setId=function(t){this._options.persist?this.storage().set(this._options.cookie.key,t):this._id=t},e.prototype.properties=e.prototype.traits=function(t){switch(arguments.length){case 0:return this._getTraits();case 1:return this._setTraits(t)}},e.prototype._getTraits=function(){return{}},e.prototype._setTraits=function(t){},e.prototype.identify=function(t,e){e=e||{};var n=this.id();null!==n&&n!==t||(e=o(this.traits(),e)),t&&this.id(t),this.traits(e),this.save()},e.prototype.save=function(){return!!this._options.persist&&(n.set(this._options.cookie.key,this.id()),a.set(this._options.localStorage.key,this.traits()),!0)},e.prototype.load=function(){this.id(n.get(this._options.cookie.key)),this.traits(a.get(this._options.localStorage.key))}}),Ot=kt&&"object"==typeof kt&&"default"in kt?kt.default:kt,Tt=t(function(t){function e(t){this.defaults=e.defaults,n.call(this,t)}var n=Ot,r=ft,o=ut,i=rt;e.defaults={persist:!0,cookie:{key:"ajs_user_id"},localStorage:{key:"ajs_user_traits"}},o(e,n),e.prototype.id=function(t){var e=this._getId(),r=n.prototype.id.apply(this,arguments);return null==e?r:(e!=t&&t&&this.anonymousId(null),r)},e.prototype.anonymousId=function(t){var e=this.storage();return arguments.length?(e.set("ajs_anonymous_id",t),this):(t=e.get("ajs_anonymous_id"))?t:(t=i.v4(),e.set("ajs_anonymous_id",t),e.get("ajs_anonymous_id"))},e.prototype.load=function(){n.prototype.load.call(this)},t.exports=r(new e),t.exports.User=e}),Et=Tt&&"object"==typeof Tt&&"default"in Tt?Tt.default:Tt,At=t(function(t){function e(){for(var t,e=document.getElementsByTagName("link"),n=0;t=e[n];n++)if("canonical"===t.getAttribute("rel"))return t.getAttribute("href")}t.exports=e}),It=At&&"object"==typeof At&&"default"in At?At.default:At,St=t(function(t){function e(){return{path:n(),referrer:document.referrer,search:o(),title:document.title,url:r(location.search)}}function n(){var t=i();if(!t)return window.location.pathname;var e=c.parse(t);return e.pathname}function r(t){var e=i();if(e)return a("?",e)?e:e+t;var n=window.location.href,r=n.indexOf("#");return r===-1?n:n.slice(0,r)}function o(){var t=window.location.href,e=t.indexOf("?");return e===-1?"":t.slice(e,-1)}var i=It,a=u,c=mt;t.exports=e}),Ct=St&&"object"==typeof St&&"default"in St?St.default:St,Nt=t(function(t){var e=i,n=function(t,n){if("function"!=typeof t)throw new TypeError("Expected a function but received a "+typeof t);var r=[];return e(function(e,n,o){r.push(t(e,n,o))},n),r};t.exports=n}),zt=Nt&&"object"==typeof Nt&&"default"in Nt?Nt.default:Nt,Dt=t(function(t){function e(t,e){function i(t){return!(!o(t,e)&&"all"!==t.toLowerCase()&&!o(t.toLowerCase(),u))}var u=a(function(t){return t.toLowerCase()},e),l=t.options||{},d=l.integrations||{},y=l.providers||{},h=l.context||{},v={};return r(function(t,e){i(e)&&(s.call(d,e)||(d[e]=t),delete l[e])},l),delete l.providers,r(function(t,e){i(e)&&"object"!==c(d[e])&&(s.call(d,e)&&"boolean"==typeof y[e]||(d[e]=t))},y),r(function(t,e){o(e,p)?v[e]=l[e]:h[e]=l[e]},l),delete t.options,v.integrations=d,v.context=h,v=n(v,t),v.eventId||(v.eventId=f.v4()),v}var n=V,r=i,o=u,a=zt,c=m,f=rt,s=Object.prototype.hasOwnProperty;t.exports=e;var p=["integrations","anonymousId","eventId","timestamp","context"]}),Pt=Dt&&"object"==typeof Dt&&"default"in Dt?Dt.default:Dt,Lt=t(function(t){var e=Object.prototype.toString;t.exports=function(t){switch(e.call(t)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array"}return null===t?"null":void 0===t?"undefined":t===Object(t)?"object":typeof t}}),Mt=Lt&&"object"==typeof Lt&&"default"in Lt?Lt.default:Lt,Ut=t(function(t,e){e.inherit=ut,e.clone=X,e.type=Mt}),$t=Ut&&"object"==typeof Ut&&"default"in Ut?Ut.default:Ut,qt=t(function(t,e){var n=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;e.parse=function(t){var e=[1,5,6,7,11,12],r=n.exec(t),o=0;if(!r)return new Date(t);for(var i,a=0;i=e[a];a++)r[i]=parseInt(r[i],10)||0;r[2]=parseInt(r[2],10)||1,r[3]=parseInt(r[3],10)||1,r[2]--,r[8]=r[8]?(r[8]+"00").substring(0,3):0," "===r[4]?o=(new Date).getTimezoneOffset():"Z"!==r[9]&&r[10]&&(o=60*r[11]+r[12],"+"===r[10]&&(o=0-o));var u=Date.UTC(r[1],r[2],r[3],r[5],r[6]+o,r[7],r[8]);return new Date(u)},e.is=function(t,e){return"string"==typeof t&&((!e||/^\d{4}-\d{2}-\d{2}/.test(t)!==!1)&&n.test(t))}}),Bt=qt&&"object"==typeof qt&&"default"in qt?qt.default:qt,Ft=t(function(t){function e(t){return t.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^\/]+)\//g,"").replace(i,"").match(/[a-zA-Z_]\w*/g)||[]}function n(t,e,n){var r=/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^\/]+)\/|[a-zA-Z_]\w*/g;return t.replace(r,function(t){return"("==t[t.length-1]?n(t):~e.indexOf(t)?n(t):t})}function r(t){for(var e=[],n=0;n<t.length;n++)~e.indexOf(t[n])||e.push(t[n]);return e}function o(t){return function(e){return t+e}}var i=/\b(Array|Date|Object|Math|JSON)\b/g;t.exports=function(t,i){var a=r(e(t));return i&&"string"==typeof i&&(i=o(i)),i?n(t,a,i):a}}),Jt=Ft&&"object"==typeof Ft&&"default"in Ft?Ft.default:Ft,Zt=t(function(t){function e(t){switch({}.toString.call(t)){case"[object Object]":return i(t);case"[object Function]":return t;case"[object String]":return o(t);case"[object RegExp]":return r(t);default:return n(t)}}function n(t){return function(e){return t===e}}function r(t){return function(e){return t.test(e)}}function o(t){return/^ *\W+/.test(t)?new Function("_","return _ "+t):new Function("_","return "+a(t))}function i(t){var r={};for(var o in t)r[o]="string"==typeof t[o]?n(t[o]):e(t[o]);return function(t){if("object"!=typeof t)return!1;for(var e in r){if(!(e in t))return!1;if(!r[e](t[e]))return!1}return!0}}function a(t){var e=c(t);if(!e.length)return"_."+t;var n,r,o;for(r=0;r<e.length;r++)o=e[r],n="_."+o,n="('function' == typeof "+n+" ? "+n+"() : "+n+")",t=u(o,t,n);return t}function u(t,e,n){return e.replace(new RegExp("(\\.)?"+t,"g"),function(t,e){return e?t:n})}var c;try{c=Jt}catch(t){c=Jt}t.exports=e}),Rt=Zt&&"object"==typeof Zt&&"default"in Zt?Zt.default:Zt,Ht=t(function(t){var e=Object.prototype.toString;t.exports=function(t){switch(e.call(t)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return null===t?"null":void 0===t?"undefined":t&&1===t.nodeType?"element":t===Object(t)?"object":typeof t}}),Vt=Ht&&"object"==typeof Ht&&"default"in Ht?Ht.default:Ht,Wt=t(function(t){function e(t,e,n){for(var r=0;r<t.length;++r)e.call(n,t.charAt(r),r)}function n(t,e,n){for(var r in t)a.call(t,r)&&e.call(n,r,t[r])}function r(t,e,n){for(var r=0;r<t.length;++r)e.call(n,t[r],r)}try{var o=Vt}catch(t){var o=Vt}var i=Rt,a=Object.prototype.hasOwnProperty;t.exports=function(t,a,u){switch(a=i(a),u=u||this,o(t)){case"array":return r(t,a,u);case"object":return"number"==typeof t.length?r(t,a,u):n(t,a,u);case"string":return e(t,a,u)}}}),Xt=Wt&&"object"==typeof Wt&&"default"in Wt?Wt.default:Wt,Kt=t(function(t){function e(t,e){return void 0===e&&(e=!0),"object"==o(t)?n(t,e):"array"==o(t)?r(t,e):t}function n(t,n){return i(t,function(r,i){a.is(i,n)?t[r]=a.parse(i):"object"!=o(i)&&"array"!=o(i)||e(i,n)}),t}function r(t,n){return i(t,function(r,i){"object"==o(r)?e(r,n):a.is(r,n)&&(t[i]=a.parse(r))}),t}var o=m,i=Xt,a=Bt;t.exports=e}),Yt=Kt&&"object"==typeof Kt&&"default"in Kt?Kt.default:Kt,Gt=t(function(t){function e(t){return function(e,n,r,o){function u(){for(f in e){var t=c(f);if(0===n.indexOf(t)){var r=n.substr(t.length);if("."===r.charAt(0)||0===r.length){n=r.substr(1);var o=e[f];return null==o?void(s=!0):n.length?void(e=o):void(s=!0)}}}f=void 0,s=!0}var c=o&&a(o.normalizer)?o.normalizer:i;n=c(n);for(var f,s=!1;!s;)u();if(f)return null==e?e:t(e,f,r)}}function n(t,e){if(t.hasOwnProperty(e))return t[e]}function r(t,e){return t.hasOwnProperty(e)&&delete t[e],t}function o(t,e,n){return t.hasOwnProperty(e)&&(t[e]=n),t}function i(t){return t.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function a(t){return"function"==typeof t}t.exports=e(n),t.exports.find=t.exports,t.exports.replace=function(t,n,r,i){return e(o).call(this,t,n,r,i),t},t.exports.del=function(t,n,o){return e(r).call(this,t,n,null,o),t}}),Qt=Gt&&"object"==typeof Gt&&"default"in Gt?Gt.default:Gt,te=t(function(t,e){var n=/\d{10}/;e.is=function(t){return n.test(t)},e.parse=function(t){var e=1e3*parseInt(t,10);return new Date(e)}}),ee=te&&"object"==typeof te&&"default"in te?te.default:te,ne=t(function(t,e){var n=/\d{13}/;e.is=function(t){return n.test(t)},e.parse=function(t){return t=parseInt(t,10),new Date(t)}}),re=ne&&"object"==typeof ne&&"default"in ne?ne.default:ne,oe=t(function(t,e){var n=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;e.parse=function(t){var e=[1,5,6,7,11,12],r=n.exec(t),o=0;if(!r)return new Date(t);for(var i,a=0;i=e[a];a++)r[i]=parseInt(r[i],10)||0;r[2]=parseInt(r[2],10)||1,r[3]=parseInt(r[3],10)||1,r[2]--,r[8]=r[8]?(r[8]+"00").substring(0,3):0," "===r[4]?o=(new Date).getTimezoneOffset():"Z"!==r[9]&&r[10]&&(o=60*r[11]+r[12],"+"===r[10]&&(o=0-o));var u=Date.UTC(r[1],r[2],r[3],r[5],r[6]+o,r[7],r[8]);return new Date(u)},e.is=function(t,e){return(!e||/^\d{4}-\d{2}-\d{2}/.test(t)!==!1)&&n.test(t)}}),ie=oe&&"object"==typeof oe&&"default"in oe?oe.default:oe,ae=t(function(t){var e=Object.prototype,n=e.hasOwnProperty,r=e.toString,o=function(t){return t!==t},i={boolean:1,number:1,string:1,undefined:1},a=t.exports={};a.a=a.type=function(t,e){return typeof t===e},a.defined=function(t){return void 0!==t},a.empty=function(t){var e,o=r.call(t);if("[object Array]"===o||"[object Arguments]"===o)return 0===t.length;if("[object Object]"===o){for(e in t)if(n.call(t,e))return!1;return!0}return"[object String]"===o&&""===t},a.equal=function(t,e){var n,o=r.call(t);if(o!==r.call(e))return!1;if("[object Object]"===o){for(n in t)if(!a.equal(t[n],e[n]))return!1;return!0}if("[object Array]"===o){if(n=t.length,n!==e.length)return!1;for(;--n;)if(!a.equal(t[n],e[n]))return!1;return!0}return"[object Function]"===o?t.prototype===e.prototype:"[object Date]"===o?t.getTime()===e.getTime():t===e},a.hosted=function(t,e){var n=typeof e[t];return"object"===n?!!e[t]:!i[n]},a.instance=a.instanceof=function(t,e){return t instanceof e},a.null=function(t){return null===t},a.undefined=function(t){return void 0===t},a.arguments=function(t){var e="[object Arguments]"===r.call(t),n=!a.array(t)&&a.arraylike(t)&&a.object(t)&&a.fn(t.callee);return e||n},a.array=function(t){return"[object Array]"===r.call(t)},a.arguments.empty=function(t){return a.arguments(t)&&0===t.length},a.array.empty=function(t){return a.array(t)&&0===t.length},a.arraylike=function(t){return!!t&&!a.boolean(t)&&n.call(t,"length")&&isFinite(t.length)&&a.number(t.length)&&t.length>=0},a.boolean=function(t){return"[object Boolean]"===r.call(t)},a.false=function(t){return a.boolean(t)&&(t===!1||t.valueOf()===!1)},a.true=function(t){return a.boolean(t)&&(t===!0||t.valueOf()===!0)},a.date=function(t){return"[object Date]"===r.call(t)},a.element=function(t){return void 0!==t&&"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&1===t.nodeType},a.error=function(t){return"[object Error]"===r.call(t)},a.fn=a.function=function(t){var e="undefined"!=typeof window&&t===window.alert;return e||"[object Function]"===r.call(t)},a.number=function(t){return"[object Number]"===r.call(t)},a.infinite=function(t){return t===1/0||t===-(1/0)},a.decimal=function(t){return a.number(t)&&!o(t)&&t%1!==0},a.divisibleBy=function(t,e){var n=a.infinite(t),r=a.infinite(e),i=a.number(t)&&!o(t)&&a.number(e)&&!o(e)&&0!==e;return n||r||i&&t%e===0},a.int=function(t){return a.number(t)&&!o(t)&&t%1===0},a.maximum=function(t,e){if(o(t))throw new TypeError("NaN is not a valid value");if(!a.arraylike(e))throw new TypeError("second argument must be array-like");for(var n=e.length;--n>=0;)if(t<e[n])return!1;return!0},a.minimum=function(t,e){if(o(t))throw new TypeError("NaN is not a valid value");if(!a.arraylike(e))throw new TypeError("second argument must be array-like");for(var n=e.length;--n>=0;)if(t>e[n])return!1;return!0},a.nan=function(t){return!a.number(t)||t!==t},a.even=function(t){return a.infinite(t)||a.number(t)&&t===t&&t%2===0},a.odd=function(t){return a.infinite(t)||a.number(t)&&t===t&&t%2!==0},a.ge=function(t,e){if(o(t)||o(e))throw new TypeError("NaN is not a valid value");return!a.infinite(t)&&!a.infinite(e)&&t>=e},a.gt=function(t,e){if(o(t)||o(e))throw new TypeError("NaN is not a valid value");return!a.infinite(t)&&!a.infinite(e)&&t>e},a.le=function(t,e){if(o(t)||o(e))throw new TypeError("NaN is not a valid value");return!a.infinite(t)&&!a.infinite(e)&&t<=e},a.lt=function(t,e){if(o(t)||o(e))throw new TypeError("NaN is not a valid value");return!a.infinite(t)&&!a.infinite(e)&&t<e},a.within=function(t,e,n){if(o(t)||o(e)||o(n))throw new TypeError("NaN is not a valid value");if(!a.number(t)||!a.number(e)||!a.number(n))throw new TypeError("all arguments must be numbers");var r=a.infinite(t)||a.infinite(e)||a.infinite(n);return r||t>=e&&t<=n},a.object=function(t){return t&&"[object Object]"===r.call(t)},a.hash=function(t){return a.object(t)&&t.constructor===Object&&!t.nodeType&&!t.setInterval},a.regexp=function(t){return"[object RegExp]"===r.call(t)},a.string=function(t){return"[object String]"===r.call(t)}}),ue=ae&&"object"==typeof ae&&"default"in ae?ae.default:ae,ce=t(function(t){function e(t){return t<315576e5?1e3*t:t}var n=ue,r=ie,o=re,i=ee;t.exports=function(t){return n.date(t)?t:n.number(t)?new Date(e(t)):r.is(t)?r.parse(t):o.is(t)?o.parse(t):i.is(t)?i.parse(t):new Date(t)}}),fe=ce&&"object"==typeof ce&&"default"in ce?ce.default:ce,se=t(function(t){var e={Salesforce:!0};t.exports=function(t){return!e[t]}}),pe=se&&"object"==typeof se&&"default"in se?se.default:se,le=t(function(t){var e=Qt;t.exports=function(t){function n(t,n){return function(){var r=this.traits(),o=this.properties?this.properties():{};return e(r,"address."+t)||e(r,t)||(n?e(r,"address."+n):null)||(n?e(r,n):null)||e(o,"address."+t)||e(o,t)||(n?e(o,"address."+n):null)||(n?e(o,n):null)}}t.zip=n("postalCode","zip"),t.country=n("country"),t.street=n("street"),t.state=n("state"),t.city=n("city"),t.region=n("region")}}),de=le&&"object"==typeof le&&"default"in le?le.default:le,ye=t(function(t){function e(t,e){e=e||{},"clone"in e||(e.clone=!0),e.clone&&(t=o(t)),"traverse"in e||(e.traverse=!0),"timestamp"in t?t.timestamp=a(t.timestamp):t.timestamp=new Date,e.traverse&&c(t),this.opts=e,this.obj=t}function n(t){return o(t)}var r=de,o=$t.clone,i=pe,a=fe,u=Qt,c=Yt,f=$t.type;e.prototype.proxy=function(t){var e=t.split(".");t=e.shift();var r=this[t]||this.field(t);return r?("function"==typeof r&&(r=r.call(this)||{}),0===e.length?this.opts.clone?n(r):r:(r=u(r,e.join(".")),this.opts.clone?n(r):r)):r},e.prototype.field=function(t){var e=this.obj[t];return this.opts.clone?n(e):e},e.proxy=function(t){return function(){return this.proxy(t)}},e.field=function(t){return function(){return this.field(t)}},e.multi=function(t){return function(){var e=this.proxy(t+"s");if("array"===f(e))return e;var n=this.proxy(t);return n&&(n=[this.opts.clone?o(n):n]),n||[]}},e.one=function(t){return function(){var e=this.proxy(t);if(e)return e;var n=this.proxy(t+"s");return"array"===f(n)?n[0]:void 0}},e.prototype.json=function(){var t=this.opts.clone?o(this.obj):this.obj;return this.type&&(t.type=this.type()),t},e.prototype.options=function(t){var e=this.obj.options||this.obj.context||{},n=this.opts.clone?o(e):e;if(!t)return n;if(this.enabled(t)){var r=this.integrations(),i=r[t]||u(r,t);return"object"!=typeof i&&(i=u(this.options(),t)),"object"==typeof i?i:{}}},e.prototype.context=e.prototype.options,e.prototype.enabled=function(t){var e=this.proxy("options.providers.all");"boolean"!=typeof e&&(e=this.proxy("options.all")),"boolean"!=typeof e&&(e=this.proxy("integrations.all")),"boolean"!=typeof e&&(e=!0);var n=e&&i(t),r=this.integrations();if(r.providers&&r.providers.hasOwnProperty(t)&&(n=r.providers[t]),r.hasOwnProperty(t)){var o=r[t];n="boolean"!=typeof o||o}return!!n},e.prototype.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},e.prototype.active=function(){var t=this.proxy("options.active");return null!==t&&void 0!==t||(t=!0),t},e.prototype.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},e.prototype.sessionId=e.prototype.anonymousId,e.prototype.groupId=e.proxy("options.groupId"),e.prototype.traits=function(t){var e=this.proxy("options.traits")||{},n=this.userId();t=t||{},n&&(e.id=n);for(var r in t){var o=null==this[r]?this.proxy("options.traits."+r):this[r]();null!=o&&(e[t[r]]=o,delete e[r])}return e},e.prototype.library=function(){var t=this.proxy("options.library");return t?"string"==typeof t?{name:t,version:null}:t:{name:"unknown",version:null}},e.prototype.device=function(){var t=this.proxy("context.device");"object"!==f(t)&&(t={});var e=this.library().name;return t.type?t:(e.indexOf("ios")>-1&&(t.type="ios"),e.indexOf("android")>-1&&(t.type="android"),t)},e.prototype.userAgent=e.proxy("context.userAgent"),e.prototype.timezone=e.proxy("context.timezone"),e.prototype.timestamp=e.field("timestamp"),e.prototype.channel=e.field("channel"),e.prototype.ip=e.proxy("context.ip"),e.prototype.userId=e.field("userId"),r(e.prototype),t.exports=e}),he=ye&&"object"==typeof ye&&"default"in ye?ye.default:ye,ve=t(function(t){function e(t,e){r.call(this,t,e)}var n=$t.inherit,r=he;n(e,r),e.prototype.type=function(){return"delete"},t.exports=e}),be=ve&&"object"==typeof ve&&"default"in ve?ve.default:ve,ge=t(function(t){t.exports=function(t){return/.+\@.+\..+/.test(t)}}),me=ge&&"object"==typeof ge&&"default"in ge?ge.default:ge,je=t(function(t,e){function n(t){return t.replace(/^\s*|\s*$/g,"")}e=t.exports=n,e.left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}}),we=je&&"object"==typeof je&&"default"in je?je.default:je,xe=t(function(t){function e(t,e){n.call(this,t,e)}var n=he,r=Qt,o=$t.inherit,i=me,a=fe,u=we;o(e,n),e.prototype.action=function(){return"identify"},e.prototype.type=e.prototype.action,e.prototype.traits=function(t){var e=this.field("traits")||{},n=this.userId();t=t||{},n&&(e.id=n);for(var r in t){var o=null==this[r]?this.proxy("traits."+r):this[r]();null!=o&&(e[t[r]]=o,r!==t[r]&&delete e[r])}return e},e.prototype.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.userId();return i(e)?e:void 0},e.prototype.created=function(){var t=this.proxy("traits.created")||this.proxy("traits.createdAt");if(t)return a(t)},e.prototype.name=function(){var t=this.proxy("traits.name");if("string"==typeof t)return u(t)},e.prototype.uid=function(){return this.userId()||this.username()||this.email()},e.prototype.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},e.prototype.avatar=function(){var t=this.traits();return r(t,"avatar")||r(t,"photoUrl")||r(t,"avatarUrl")},e.prototype.username=n.proxy("traits.username"),t.exports=e}),_e=xe&&"object"==typeof xe&&"default"in xe?xe.default:xe,ke=t(function(t){function e(t,e){o.call(this,t,e)}function n(t){if(t){if("number"==typeof t)return t;if("string"==typeof t)return t=t.replace(/\$/g,""),t=parseFloat(t),isNaN(t)?void 0:t}}var r=$t.inherit,o=he,i=_e,a=me;r(e,o),e.prototype.action=function(){return"track"},e.prototype.type=e.prototype.action,e.prototype.event=o.field("event"),e.prototype.value=o.proxy("properties.value"),e.prototype.category=o.proxy("properties.category"),e.prototype.id=o.proxy("properties.id"),e.prototype.name=o.proxy("properties.name"),e.prototype.description=o.proxy("properties.description"),e.prototype.plan=o.proxy("properties.plan"),e.prototype.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},e.prototype.query=o.proxy("options.query"),e.prototype.properties=function(t){var e=this.field("properties")||{};t=t||{};for(var n in t){var r=null==this[n]?this.proxy("properties."+n):this[n]();null!=r&&(e[t[n]]=r,delete e[n])}return e},e.prototype.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},e.prototype.email=function(){var t=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(t)return t;var e=this.userId();return a(e)?e:void 0},e.prototype.revenue=function(){var t=this.proxy("properties.revenue"),e=this.event(),r=/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;return!t&&e&&e.match(r)&&(t=this.proxy("properties.total")),n(t)},e.prototype.identify=function(){var t=this.json();return t.traits=this.traits(),new i(t,this.opts)},t.exports=e}),Oe=ke&&"object"==typeof ke&&"default"in ke?ke.default:ke,Te=t(function(t){function e(t,e){r.call(this,t,e)}var n=$t.inherit,r=he,o=Oe,i=me;n(e,r),e.prototype.action=function(){return"page"},e.prototype.type=e.prototype.action,e.prototype.category=r.field("category"),e.prototype.name=r.field("name"),e.prototype.title=r.proxy("properties.title"),e.prototype.path=r.proxy("properties.path"),e.prototype.url=r.proxy("properties.url"),e.prototype.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},e.prototype.properties=function(t){var e=this.field("properties")||{},n=this.category(),r=this.name();t=t||{},n&&(e.category=n),r&&(e.name=r);for(var o in t){var i=null==this[o]?this.proxy("properties."+o):this[o]();null!=i&&(e[t[o]]=i,o!==t[o]&&delete e[o])}return e},e.prototype.email=function(){var t=this.proxy("context.traits.email")||this.proxy("properties.email");if(t)return t;var e=this.userId();return i(e)?e:void 0},e.prototype.fullName=function(){var t=this.category(),e=this.name();return e&&t?t+" "+e:e},e.prototype.event=function(t){return t?"Viewed "+t+" Page":"Loaded a Page"},e.prototype.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new o(e,this.opts)},t.exports=e}),Ee=Te&&"object"==typeof Te&&"default"in Te?Te.default:Te,Ae=t(function(t){function e(t,e){r.call(this,t,e)}var n=$t.inherit,r=Ee,o=Oe;n(e,r),e.prototype.action=function(){return"screen"},e.prototype.type=e.prototype.action,e.prototype.event=function(t){return t?"Viewed "+t+" Screen":"Loaded a Screen"},e.prototype.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new o(e,this.opts)},t.exports=e}),Ie=Ae&&"object"==typeof Ae&&"default"in Ae?Ae.default:Ae,Se=t(function(t){function e(t,e){i.call(this,t,e)}var n=$t.inherit,r=me,o=fe,i=he;n(e,i),e.prototype.action=function(){return"group"},e.prototype.type=e.prototype.action,e.prototype.groupId=i.field("groupId"),e.prototype.created=function(){var t=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(t)return o(t)},e.prototype.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.groupId();return r(e)?e:void 0},e.prototype.traits=function(t){var e=this.properties(),n=this.groupId();t=t||{},n&&(e.id=n);for(var r in t){var o=null==this[r]?this.proxy("traits."+r):this[r]();null!=o&&(e[t[r]]=o,delete e[r])}return e},e.prototype.name=i.proxy("traits.name"),e.prototype.properties=function(){return this.field("traits")||this.field("properties")||{}},t.exports=e}),Ce=Se&&"object"==typeof Se&&"default"in Se?Se.default:Se,Ne=t(function(t){function e(t,e){r.call(this,t,e)}var n=$t.inherit,r=he;n(e,r),e.prototype.action=function(){return"alias"},e.prototype.type=e.prototype.action,e.prototype.previousId=function(){return this.field("previousId")||this.field("from")},e.prototype.from=e.prototype.previousId,e.prototype.userId=function(){return this.field("userId")||this.field("to")},e.prototype.to=e.prototype.userId,t.exports=e}),ze=Ne&&"object"==typeof Ne&&"default"in Ne?Ne.default:Ne,De=t(function(t){var e=he;e.Alias=ze,e.Group=Ce,e.Identify=_e,e.Track=Oe,e.Page=Ee,e.Screen=Ie,e.Delete=be,t.exports=e}),Pe=De&&"object"==typeof De&&"default"in De?De.default:De,Le=t(function(t){function e(){this._options({}),this.Integrations={},this._integrations={},this._readied=!1,this._timeout=300,f(this)}var n=p,o=Pe.Identify,a=Pe.Page,u=Pe.Track,c=M,f=ft,s=X,l=_t,d=V,y=i,h=O,v=r,b=Pt,g=Ct,j=ht,w=Et,x=m;n(e.prototype),e.prototype.use=function(t){return t(this),this},e.prototype.addIntegration=function(t){var e=t.prototype.name;if(!e)throw new TypeError("attempted to add an invalid integration");return this.Integrations[e]=t,this},e.prototype.init=e.prototype.initialize=function(t,e){t=t||{},e=e||{},this._options(e),this._readied=!1;var n=this;y(function(e,r){var o=n.Integrations[r];o||delete t[r]},t),y(function(t,e){var r=n.Integrations[e],o=new r(s(t));n.add(o)},t);var r=this._integrations;w.load();var o=v(r).length,i=c(o,function(){n._readied=!0,n.emit("ready")});return o<=0&&i(),y(function(t){e.initialPageview&&t.options.initialPageview===!1&&(t.page=c(2,t.page)),t.analytics=n,t.once("ready",i),t.initialize()},r),this.emit("initialize",t,e),this},e.prototype.setAnonymousId=function(t){
return this.user().anonymousId(t),this},e.prototype.add=function(t){return this._integrations[t.name]=t,this},e.prototype.identify=function(t,e,n,r){h.fn(n)&&(r=n,n=null),h.fn(e)&&(r=e,n=null,e=null),h.object(t)&&(n=e,e=t,t=w.id()),w.identify(t,e);var i=this.normalize({options:n,traits:w.traits(),userId:w.id()});return this._invoke("identify",new o(i)),this.emit("identify",t,e,n),this._callback(r),this},e.prototype.user=function(){return w},e.prototype.track=function(t,e,n,r){h.fn(n)&&(r=n,n=null),h.fn(e)&&(r=e,n=null,e=null);var o=this.options.plan||{},i=o.track||{},a=this.normalize({properties:e,options:n,event:t});if(o=i[t]){if(o.enabled===!1)return this._callback(r);d(a.integrations,o.integrations||{})}return this._invoke("track",new u(a)),this.emit("track",t,e,n),this._callback(r),this},e.prototype.exception=function(t,e,n,r){if(h.fn(n)&&(r=n,n=null),h.fn(e)&&(r=e,n=null,e=null),e instanceof Error){var o={};e.name&&(o.name=e.name),e.code&&(o.code=e.code),e.message&&(o.message=e.message),e.stack&&(o.stack=e.stack),e=o}var i=this.options.plan||{},a=i.track||{},c=this.normalize({properties:e,options:n,event:t});if(i=a[t]){if(i.enabled===!1)return this._callback(r);d(c.integrations,i.integrations||{})}return this._invoke("exception",new u(c)),this.emit("exception",t,e,n),this._callback(r),this},e.prototype.page=function(t,e,n,r,o){h.fn(r)&&(o=r,r=null),h.fn(n)&&(o=n,r=n=null),h.fn(e)&&(o=e,r=n=e=null),"object"===x(t)&&(r=e,n=t,e=t=null),"object"===x(e)&&(r=n,n=e,e=null),"string"===x(t)&&"string"!==x(e)&&(e=t,t=null),n=s(n)||{},e&&(n.name=e),t&&(n.category=t);var i=g();d(n,i);var u=this.normalize({properties:n,category:t,options:r,name:e});return this._invoke("page",new a(u)),this.emit("page",t,e,n,r),this._callback(o),this},e.prototype.ready=function(t){return h.fn(t)&&(this._readied?nextTick(t):this.once("ready",t)),this},e.prototype._options=function(t){return t=t||{},this.options=t,l.options(t.cookie),j.options(t.localStorage),w.options(t.user),this},e.prototype._callback=function(t){return h.fn(t)&&(this._timeout?setTimeout(t,this._timeout):nextTick(t)),this},e.prototype._invoke=function(t,e){return this.emit("invoke",e),y(function(n,r){e.enabled(r)&&n.invoke.call(n,t,e)},this._integrations),this},e.prototype.normalize=function(t){return t=b(t,v(this._integrations)),t.anonymousId&&w.anonymousId(t.anonymousId),t.anonymousId=w.anonymousId(),t.context.page=d(t.context.page||{},g()),t},t.exports=e,t.exports.uuid=rt.v4}),Me=Le&&"object"==typeof Le&&"default"in Le?Le.default:Le,Ue=t(function(t){var e=Me,n=Q,r=new e;r.VERSION="3.0.0",r.createIntegration=n,t.exports=r}),$e=Ue&&"object"==typeof Ue&&"default"in Ue?Ue.default:Ue;return $e}();